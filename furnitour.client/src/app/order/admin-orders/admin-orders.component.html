<div class="container mt-4" *ngIf="orders.length > 0; else noOrders">
  <h2>Керування замовленнями</h2>
  <div *ngFor="let order of orders" class="card mb-3">
    <div class="card-header">
      <h5>Замовлення #{{ order.id }} - {{ order.orderState }}</h5>
    </div>
    <div class="card-body">
      <p><strong>Ім'я:</strong> {{ order.name }}</p>
      <p *ngIf="order.address"><strong>Адреса:</strong> {{ order.address }}</p>
      <p *ngIf="order.phone"><strong>Телефон:</strong> {{ order.phone }}</p>
      <p *ngIf="order.comment"><strong>Коментар:</strong> {{ order.comment }}</p>
      <p *ngIf="order.orderState"><strong>Стан Замовлення:</strong> {{ order.orderState }}</p>
      <p><strong>Дата створення:</strong> {{ order.dateCreated | date:'short' }}</p>
      <p><strong>Загальна Ціна:</strong> {{ order.price | currency }}</p>
  
      <h6>Товари у замовленні</h6>
      <table class="table table-striped">
        <thead>
          <tr>
            <th>Назва</th>
            <th>Кількість</th>
            <th>Ціна</th>
            <th>Майстер/Виробник</th>
            <th>Категорія</th>
            <th>Колір</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let item of order.orderItems">
            <td>{{ item.name }}</td>
            <td>{{ item.quantity }}</td>
            <td>{{ item.price | currency }}</td>
            <td *ngIf="item.master != ''">{{ item.master }}</td>
            <td *ngIf="item.manufacturer != ''">{{ item.manufacturer }}</td>
            <td>{{ item.category }}</td>
            <td>{{ item.color }}</td>
          </tr>
        </tbody>
      </table>
      <button class="btn btn-warning m-1" (click)="updateOrder(order.id, 3)">Скасувати замовлення</button>
      <button class="btn btn-primary m-1" (click)="updateOrder(order.id, 4)">Підтвердити замовлення</button>
      <button class="btn btn-danger m-1" (click)="updateOrder(order.id, 5)">В доставці</button>
      <button class="btn btn-success m-1" (click)="updateOrder(order.id, 6)">Підтвердити доставку</button>
    </div>
  </div>
</div>
  
<ng-template #noOrders>
  <div class="alert alert-warning mt-4">Замовлень немає.</div>
</ng-template>